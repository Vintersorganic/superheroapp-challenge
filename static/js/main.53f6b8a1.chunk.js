(this["webpackJsonpsuperhero-app"]=this["webpackJsonpsuperhero-app"]||[]).push([[0],{137:function(e,t,r){},256:function(e,t,r){},262:function(e,t,r){},263:function(e,t,r){},264:function(e,t,r){},265:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(27),c=r.n(a),s=r(6),i=r(8),o=r(277),l=r(7),u=r.n(l),d=r(13),j=r(267),h=r(114),b=r(279),p=r(268),O=(r(137),function(e){return{type:"ADD_HERO",data:e}}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_HERO":return e.concat(t.data);case"DELETE_HERO":return e.filter((function(e){return e.id!==t.data}));default:return e}},x=r(1),g=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.superheroes})),r=Object(s.c)((function(e){return e.teamheroes})),n=function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=r.filter((function(e){return"bad"===e.biography.alignment})).length,c=r.filter((function(e){return"good"===e.biography.alignment})).length,r.length<1?e(O(n)):3===a&&"bad"===n.biography.alignment?alert("M\xe1ximo 3 h\xe9roes de orientaci\xf3n mala."):3===c&&"good"===n.biography.alignment?alert("M\xe1ximo 3 h\xe9roes de orientaci\xf3n buena."):6===r.length?alert("\xa1Ya ten\xe9s la m\xe1xima cantidad de h\xe9roes en tu equipo!"):void 0===r.find((function(e){return e.id===n.id}))?e(O(n)):alert("\xa1".concat(n.name," ya est\xe1 en tu equipo!"));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Array.isArray(t)?Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)("h1",{className:"superheroescard-header text-center",children:"\xa1Eleg\xed a los miembros de tu equipo!"}),Object(x.jsx)(j.a,{xs:1,md:2,lg:4,className:"card-row",children:t.map((function(e){return Object(x.jsx)(h.a,{children:Object(x.jsxs)(b.a,{border:"good"===e.biography.alignment?"success":"danger",className:"mt-5",style:{width:"12rem",margin:"auto"},children:[Object(x.jsx)(b.a.Header,{className:"text-center font-weight-bold",children:e.name}),Object(x.jsx)(b.a.Img,{variant:"top",src:e.image.url,className:"card-img"}),Object(x.jsx)(p.a,{variant:"outline-info",onClick:function(){return n(e)},children:"Agregar"})]})},Number(e.id))}))})]}):null},f=r(269),v=r(275),E=r.p+"static/media/superheroes-6.489878d4.png",w=r.p+"static/media/login-icon2.3966a311.png",y=r(64),S=r(36),N=r(47),k=r.n(N),I=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("https://restserver-node-jgdp.herokuapp.com/api/auth/login",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={login:I},A=function(e,t){return function(){var r=Object(d.a)(u.a.mark((function r(n){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n({type:"MESSAGE",data:e}),setTimeout((function(){n({type:"MESSAGE",data:null})}),1e3*t);case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"MESSAGE"===t.type?t.data:e},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING_TRUE":return!0;case"SET_LOADING_FALSE":return!1;default:return e}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":case"INIT_USER":case"LOGOUT_USER":return t.data;default:return e}},C=(r(256),function(){var e=Object(i.k)(),t=Object(s.b)(),r=Object(s.c)((function(e){return e.message})),n=S.a().shape({email:S.b().email("Formato inv\xe1lido de email").required("Es necesario ingresar un email v\xe1lido."),password:S.b().required("Es necesario ingresar un password.")});return Object(x.jsx)(f.a,{className:"mt-5",children:Object(x.jsxs)(j.a,{className:"justify-content-center align-items-center",children:[Object(x.jsx)(h.a,{lg:6,md:6,sm:12,className:" align-content-center",children:Object(x.jsxs)(b.a,{className:"text-center mt-5 p-3 shadow ",children:[Object(x.jsx)(b.a.Title,{className:"text-red",children:"\xa1Ingres\xe1 tus datos y arm\xe1 tu equipo!"}),Object(x.jsx)("hr",{}),Object(x.jsx)(b.a.Img,{className:"loginIcon-img",alt:"Login Icon",src:w}),Object(x.jsx)(y.a,{validationSchema:n,onSubmit:function(r){t(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"SET_LOADING_TRUE"}),t.next=4,_.login(e);case 4:n=t.sent,window.localStorage.setItem("loggedSuperheroAppUser",JSON.stringify(n.token)),r({type:"SET_USER",data:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(A("Mail y/o password incorrectos.",3));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(r)),e.push("/home")},initialValues:{email:"",password:""},children:function(e){var t=e.handleSubmit,r=e.handleChange,n=e.values,a=e.touched,c=e.errors,s=e.isValid;return Object(x.jsxs)(v.a,{noValidate:!0,onSubmit:t,children:[Object(x.jsxs)(v.a.Group,{controlId:"validationFormik01",children:[Object(x.jsx)(v.a.Label,{children:"Email:"}),Object(x.jsx)(v.a.Control,{name:"email",type:"email",value:n.email,placeholder:"Ingres\xe1 tu email",onChange:r,isValid:a.email&&!c.email,isInvalid:!!c.email}),Object(x.jsx)(v.a.Control.Feedback,{type:"invalid",children:c.email})]}),Object(x.jsxs)(v.a.Group,{children:[Object(x.jsx)(v.a.Label,{children:"Password:"}),Object(x.jsx)(v.a.Control,{type:"password",name:"password",value:n.password,placeholder:"Ingres\xe1 tu password",onChange:r,isValid:a.password&&!c.password,isInvalid:!!c.password}),Object(x.jsx)(v.a.Control.Feedback,{type:"invalid",children:c.password})]}),Object(x.jsx)(p.a,{variant:"primary btn-block",disabled:!s,type:"submit",children:"Enviar"})]})}}),r&&Object(x.jsx)(o.a,{variant:"danger",children:r})]})}),Object(x.jsx)(h.a,{lg:6,md:6,className:"d-none d-md-block pl-5",children:Object(x.jsx)("img",{className:"login-img mx-auto",alt:"Login Page Superheroes",src:E})})]})})}),U=r(276),H=r(124),D=r(278),P=r(121),G=r(15),q="/api/".concat("10158026026342484","/"),F=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(q+"search/"+t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(q+t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V={getHeroes:F,getIndividualHero:M},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_SUPERHEROES":return[].concat(Object(G.a)(e),Object(G.a)(t.data));case"SUPERHERO_DETAIL":case"EMPTY_SUPERHEROES":return t.data;default:return e}},B=function(){var e=S.a().shape({search:S.b().required("Ingres\xe1 un caracter.").matches(/^[a-zA-Z0-9-_ ]+$/,"\xa1S\xf3lo pod\xe9s ingresar letras, n\xfameros y gui\xf3n alto!")}),t=Object(i.k)(),r=Object(s.b)();return Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{validationSchema:e,onSubmit:function(e){var n;t.push("/heroes"),r({type:"EMPTY_SUPERHEROES",data:[]}),r((n=e.search,function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SET_LOADING_TRUE"}),e.next=4,V.getHeroes(n);case 4:r=e.sent,t(A(r.response,4)),t({type:"SEARCH_SUPERHEROES",data:r.results}),t({type:"SET_LOADING_FALSE"}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"SET_LOADING_FALSE"}),console.log("Error | ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},initialValues:{search:""},children:function(e){var t=e.handleSubmit,r=e.handleChange,n=e.values,a=e.touched,c=e.errors,s=e.isValid;return Object(x.jsxs)(v.a,{className:"d-flex",onSubmit:t,children:[Object(x.jsx)(P.a,{type:"text",name:"search",value:n.search,placeholder:"Buscar",onChange:r,isValid:a.search&&!c.search,isInvalid:!!c.search,className:"mr-2"}),Object(x.jsx)(p.a,{type:"submit",variant:"outline-light",disabled:!s,children:"Buscar"}),Object(x.jsx)("small",{className:"ml-3 text-center text-white",children:c.search})]})}})})},J=function(){var e=Object(s.b)();return Object(x.jsx)(p.a,{onClick:function(){e(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING_FALSE"}),window.localStorage.removeItem("loggedSuperheroAppUser"),t({type:"LOGOUT_USER",data:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Desconectarse"})},Y=r(48),Z=(r(262),function(){return Object(x.jsxs)(U.a,{fixed:"top",bg:"danger nav-color",variant:"dark",expand:"lg",className:"nav-color",children:[Object(x.jsx)(Y.LinkContainer,{to:"/home",children:Object(x.jsx)(H.a,{children:"Superhero App"})}),Object(x.jsx)(U.a.Toggle,{"aria-controls":"navbarScroll"}),Object(x.jsxs)(U.a.Collapse,{id:"navbarScroll",children:[Object(x.jsxs)(D.a,{className:"mr-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[Object(x.jsx)(Y.LinkContainer,{to:"/home",children:Object(x.jsx)(D.a.Link,{children:"Equipo"})}),Object(x.jsx)(B,{})]}),Object(x.jsx)(J,{})]})]})}),$=r(270),K=(r(263),function(){return Object(x.jsx)("div",{className:"spinnerContainer",children:Object(x.jsx)($.a,{animation:"border",variant:"danger"})})}),Q=r(271),W=r(125),X=r(272),ee=(r(264),function(){var e=Object(s.c)((function(e){return e.teamheroes})),t=Object(s.b)(),r=function(e){t({type:"EMPTY_SUPERHEROES",data:[]}),t(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"SET_LOADING_TRUE"}),t.next=4,V.getIndividualHero(e);case 4:n=t.sent,r({type:"SUPERHERO_DETAIL",data:n}),r({type:"SET_LOADING_FALSE"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log("Error | ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(e))};return e.length<1?null:Object(x.jsx)("div",{children:Object(x.jsx)(j.a,{xs:1,md:2,lg:6,className:"card-row mb-3",style:{margin:"auto"},children:e.map((function(e){return Object(x.jsx)(h.a,{xs:12,sm:6,md:4,lg:2,children:Object(x.jsxs)(b.a,{border:"good"===e.biography.alignment?"success":"danger",className:"mt-2 single-card",children:[Object(x.jsx)(b.a.Header,{className:"text-center font-weight-bold",children:e.name}),Object(x.jsx)(b.a.Img,{variant:"top",src:e.image.url,className:"card-img"}),Object(x.jsxs)(Q.a,{className:"list-group-flush",children:[Object(x.jsxs)(W.a,{children:[Object(x.jsx)("strong",{children:"Combate:"})," ","null"!==e.powerstats.combat?e.powerstats.combat:"?"]}),Object(x.jsxs)(W.a,{children:[Object(x.jsx)("strong",{children:"Resistencia:"})," ","null"!==e.powerstats.durability?e.powerstats.durability:"?"]}),Object(x.jsxs)(W.a,{children:[Object(x.jsx)("strong",{children:"Inteligencia:"})," ","null"!==e.powerstats.intelligence?e.powerstats.intelligence:"?"]}),Object(x.jsxs)(W.a,{children:[Object(x.jsx)("strong",{children:"Poder:"})," ","null"!==e.powerstats.power?e.powerstats.power:"?"]}),Object(x.jsxs)(W.a,{children:[Object(x.jsx)("strong",{children:"Velocidad:"})," ","null"!==e.powerstats.speed?e.powerstats.speed:"?"]}),Object(x.jsxs)(W.a,{children:[Object(x.jsx)("strong",{children:"Fuerza:"})," ","null"!==e.powerstats.strength?e.powerstats.strength:"?"]})]}),Object(x.jsxs)(X.a,{children:[Object(x.jsx)(p.a,{variant:"outline-info",onClick:function(){return r=e.id,void t(function(e){return{type:"DELETE_HERO",data:e}}(r));var r},children:"Eliminar"}),Object(x.jsx)(Y.LinkContainer,{to:"/heroes/".concat(e.id),children:Object(x.jsx)(p.a,{variant:"outline-info",onClick:function(){return r(e.id)},children:"Detalles"})})]})]})},Number(e.id))}))})})}),te=r(273),re=r(274),ne=function(){var e=Object(s.c)((function(e){return e.superheroes}));return Object(s.c)((function(e){return e.loading}))?Object(x.jsx)(K,{}):e.length<1?Object(x.jsx)(i.c,{to:"/home"}):Object(x.jsxs)(f.a,{style:{marginTop:100},children:[Object(x.jsx)(j.a,{children:Object(x.jsx)(h.a,{children:Object(x.jsx)("h1",{className:"text-center",children:e.name})})}),Object(x.jsxs)(j.a,{className:"mt-5",children:[Object(x.jsx)(h.a,{lg:3,children:Object(x.jsx)(te.a,{src:e.image.url,rounded:!0,fluid:!0})}),Object(x.jsx)(h.a,{lg:9,children:Object(x.jsxs)(re.a,{hover:!0,children:[Object(x.jsx)("thead",{className:"good"===e.biography.alignment?"table-success":"table-danger",children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Peso"}),Object(x.jsx)("th",{children:"Altura"}),Object(x.jsx)("th",{children:"Nombre"}),Object(x.jsx)("th",{children:"Alias"}),Object(x.jsx)("th",{children:"Color de ojos"}),Object(x.jsx)("th",{children:"Color de cabello"}),Object(x.jsx)("th",{children:"Lugar de trabajo"})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:e.appearance.weight[1]}),Object(x.jsx)("th",{children:e.appearance.height[1]}),Object(x.jsx)("th",{children:e.biography["full-name"]}),Object(x.jsx)("th",{children:e.biography.aliases[0]}),Object(x.jsx)("th",{children:e.appearance["eye-color"]}),Object(x.jsx)("th",{children:e.appearance["hair-color"]}),Object(x.jsx)("th",{children:e.work.base})]})})]})})]})]})},ae=function(){var e=Object(s.c)((function(e){return e.teamheroes}));if(e.length<0)return null;var t=function(e,t){var r=e.filter((function(e){return"null"!==e.powerstats[t]}));return r.length<1?0:r.map((function(e){return Number(e.powerstats[t])})).reduce((function(e,t){return e+t}))},r=function(e,t,r){var n=e.filter((function(e){return e.appearance[t][1]!==r}));if(n.length<1)return 0;var a=n.map((function(e){return Number(e.appearance[t][1].substring(0,e.appearance[t][1].length-3))}));return Math.round(a.reduce((function(e,t){return e+t}))/a.length)},n={inteligencia:t(e,"intelligence"),resistencia:t(e,"durability"),poder:t(e,"power"),combate:t(e,"combat"),velocidad:t(e,"speed"),fuerza:t(e,"strength")},a=Object.entries(n).sort((function(e,t){return t[1]-e[1]}));return Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)("h2",{className:"text-center",style:{marginTop:70},children:["\xa1Tu equipo",e.length<1?"!":" es de ".concat(a[0][0],"!")]}),e.length<1&&Object(x.jsx)(o.a,{variant:"danger",className:"mt-3 text-center",children:"\xa1Ten\xe9s que agregar miembros al equipo! "}),Object(x.jsxs)(re.a,{responsive:!0,bordered:!0,className:"mt-3 container",hover:!0,children:[Object(x.jsx)("thead",{className:"table-primary",children:Object(x.jsxs)("tr",{className:"text-center",children:[Object(x.jsx)("th",{children:"Combate"}),Object(x.jsx)("th",{children:"Resistencia"}),Object(x.jsx)("th",{children:"Inteligencia"}),Object(x.jsx)("th",{children:"Poder"}),Object(x.jsx)("th",{children:"Velocidad"}),Object(x.jsx)("th",{children:"Fuerza"}),Object(x.jsx)("th",{children:"Altura Promedio"}),Object(x.jsx)("th",{children:"Peso Promedio"})]})}),Object(x.jsx)("tbody",{children:Object(x.jsxs)("tr",{className:"text-center",children:[Object(x.jsx)("th",{children:n.combate}),Object(x.jsx)("th",{children:n.resistencia}),Object(x.jsx)("th",{children:n.inteligencia}),Object(x.jsx)("th",{children:n.poder}),Object(x.jsx)("th",{children:n.velocidad}),Object(x.jsx)("th",{children:n.fuerza}),Object(x.jsxs)("th",{children:[r(e,"height","0 cm")," cm"]}),Object(x.jsxs)("th",{children:[r(e,"weight","0 kg")," kg"]})]})})]})]})};var ce=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),r=Object(s.c)((function(e){return e.loading})),a=Object(s.c)((function(e){return e.message}));return Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=window.localStorage.getItem("loggedSuperheroAppUser"))&&(n=JSON.parse(r),t({type:"INIT_USER",data:n}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),null===t?Object(x.jsx)(i.g,{className:"container",children:Object(x.jsx)(i.d,{path:"/",children:r?Object(x.jsx)(K,{}):Object(x.jsx)(C,{})})}):Object(x.jsxs)("div",{children:[Object(x.jsx)(Z,{}),Object(x.jsxs)(i.g,{children:[Object(x.jsxs)(i.d,{path:"/home",children:[Object(x.jsx)(ae,{}),Object(x.jsx)(ee,{})]}),Object(x.jsx)(i.d,{path:"/heroes/:id",children:Object(x.jsx)(ne,{})}),Object(x.jsxs)(i.d,{path:"/heroes",children:[r?Object(x.jsx)(K,{}):Object(x.jsx)(g,{}),"error"===a&&Object(x.jsx)(o.a,{className:"mt-5 text-center",variant:"danger",children:" No se encontr\xf3 lo que estabas buscando, prob\xe1 con otro nombre."})]})]})]})},se=r(67),ie=r(126),oe=Object(se.b)({user:L,message:R,loading:T,superheroes:z,teamheroes:m}),le=Object(se.c)(oe,Object(se.a)(ie.a)),ue=r(37);c.a.render(Object(x.jsx)(ue.BrowserRouter,{children:Object(x.jsx)(s.a,{store:le,children:Object(x.jsx)(ce,{})})}),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.53f6b8a1.chunk.js.map